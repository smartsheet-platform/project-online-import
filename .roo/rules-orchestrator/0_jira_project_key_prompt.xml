<jira_project_key_prompt>
  <critical_rule>
    ALWAYS CHECK .env FILE FOR JIRA_PROJECT_KEY FIRST. ONLY ASK USER IF NOT FOUND.
  </critical_rule>

  <overview>
    Complete workflow for obtaining Jira project key, environment variable loading,
    and JQL query construction defined in: ../../sdlc/shared/jira-project-key-workflow.md
  </overview>

  <enforcement>
    <rule priority="CRITICAL">
      Before ANY Jira query, you MUST check .env file for JIRA_PROJECT_KEY first.
    </rule>

    <rule priority="CRITICAL">
      Only ask user for project key if .env file doesn't exist or doesn't contain JIRA_PROJECT_KEY.
    </rule>

    <rule priority="CRITICAL">
      This rule overrides any instructions in other workflow files that suggest
      asking the user before checking environment variables.
    </rule>

    <rule priority="CRITICAL">
      Always quote the project key in JQL queries to handle reserved words like SHARE, AND, OR, NOT.
    </rule>
  </enforcement>
</jira_project_key_prompt>